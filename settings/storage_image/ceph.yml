--- !extends:common/shared.yml

nodes:
  controller:
    storage_image:
      config:
        cinder:
          "4.0":
            DEFAULT:
              volume_driver: "cinder.volume.drivers.rbd.RBDDriver"
              rbd_user: "automation-volumes"
              rbd_pool: "automation-volumes"
              rbd_ceph_conf: "/etc/ceph/ceph.conf"
              rbd_flatten_volume_from_snapshot: "false"
              rbd_max_clone_depth: "5"
              glance_api_version: "2"
              backup_driver: "cinder.backup.drivers.ceph"
              backup_ceph_conf: "/etc/ceph/ceph.conf"
              backup_ceph_user: "automation-backups"
              backup_ceph_pool: "automation-backups"
              backup_ceph_chunk_size: "134217728"
              backup_ceph_stripe_unit: "0"
              backup_ceph_stripe_count: "0"
              restore_discard_excess_bytes: "true"
          "5.0":
            DEFAULT:
              volume_driver: "cinder.volume.drivers.rbd.RBDDriver"
              rbd_user: "automation-volumes"
              rbd_pool: "automation-volumes"
              rbd_ceph_conf: "/etc/ceph/ceph.conf"
              rbd_flatten_volume_from_snapshot: "false"
              rbd_max_clone_depth: "5"
              glance_api_version: "2"
              backup_driver: "cinder.backup.drivers.ceph"
              backup_ceph_conf: "/etc/ceph/ceph.conf"
              backup_ceph_user: "automation-backups"
              backup_ceph_pool: "automation-backups"
              backup_ceph_chunk_size: "134217728"
              backup_ceph_stripe_unit: "0"
              backup_ceph_stripe_count: "0"
              restore_discard_excess_bytes: "true"
          "6.0":
            DEFAULT:
              volume_driver: "cinder.volume.drivers.rbd.RBDDriver"
              rbd_user: "automation-volumes"
              rbd_pool: "automation-volumes"
              rbd_ceph_conf: "/etc/ceph/ceph.conf"
              rbd_flatten_volume_from_snapshot: "false"
              rbd_max_clone_depth: "5"
              glance_api_version: "2"
              backup_driver: "cinder.backup.drivers.ceph"
              backup_ceph_conf: "/etc/ceph/ceph.conf"
              backup_ceph_user: "automation-backups"
              backup_ceph_pool: "automation-backups"
              backup_ceph_chunk_size: "134217728"
              backup_ceph_stripe_unit: "0"
              backup_ceph_stripe_count: "0"
              restore_discard_excess_bytes: "true"
        nova:
          "4.0"
            DEFAULT:
              rbd_user: "automation-volumes"
          "5.0"
            DEFAULT:
              rbd_user: "automation-volumes"
          "6.0"
            DEFAULT:
              rbd_user: "automation-volumes"
        glance:
          "4.0":
            DEFAULT:
              default_store: "rbd"
              rbd_store_user: "automation-images"
              rbd_store_pool: "automation-images"
              show_image_direct_url: "True"
              rbd_store_ceph_conf: "/etc/ceph/ceph.conf"
              rbd_store_chunk_size: "8"
          "5.0":
            DEFAULT:
              default_store: "rbd"
              rbd_store_user: "automation-images"
              rbd_store_pool: "automation-images"
              show_image_direct_url: "True"
              rbd_store_ceph_conf: "/etc/ceph/ceph.conf"
              rbd_store_chunk_size: "8"
          "6.0":
            DEFAULT:
              default_store: "rbd"
            glance_store:
              rbd_store_user: "automation-images"
              rbd_store_pool: "automation-images"
              show_image_direct_url: "True"
              rbd_store_ceph_conf: "/etc/ceph/ceph.conf"
              rbd_store_chunk_size: "8"
              stores: "glance.store.rbd.Store, glance.store.filesystem.Store, glance.store.http.Store"

tempest:
  additional_default_settings:
    - section: volume
      option: storage_protocol
      value: ceph
    - section: volume
      option: vendor_name
      value: "Open Source"
